(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const h of t.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(o){if(o.ep)return;o.ep=!0;const t=r(o);fetch(o.href,t)}})();const fe="/extreme/assets/typescript-f6ead1af.svg",pe="/extreme/vite.svg",se=new Set,ae=n=>{if(!se.has(n)){const e=document.createElement("style");e.innerHTML=n,document.head.appendChild(e),se.add(n)}},A=()=>"W"+Math.random().toString(36).slice(2,10),$=(n,e)=>{let r=n;for(let t=n;t>=0;t--)if(e[t]==="<"){r=t;break}let a="";for(let t=r;t<e.length;t++)if(e[t]===" "||e[t]===">"||e[t]==="/"){a=e.slice(r,t+1),a=a.replace(/(<|>|\/)/g,"").trim();break}let o=n;e:for(let t=n;t<e.length;t++){if(e[t]==="<"&&e[t+1]==="/"){for(let h=t;h<e.length;h++)if(e[h]===">"){if(e.slice(t+2,h)!==a)continue;o=h+1;break e}}if(e[t]==="/"&&e[t+1]===">"){o=t+2;break}}return e.slice(r,o)},W=n=>{var r;return(r=n.match(/id="(.*?)"/))==null?void 0:r[1]},ie=(n,e)=>{var t;let r="";const a=n.indexOf(">"),o=n.indexOf("id=");return o===-1||o>a?(r=e,n=n.replace(">",` id="${r}">`)):r=((t=n.match(/id="(.*?)"/))==null?void 0:t[1])||A(),[n,r]},me=n=>"W"+btoa(n),X=()=>{const n=A(),e=()=>document.getElementById(n);return e.toString=()=>n,e},G=n=>{let e=n;const r=new Set;return[t=>(t&&r.add(t),e),t=>{if(e===t)return;const h=e;e=t,r.forEach(S=>{requestIdleCallback?requestIdleCallback(()=>S(e,h)):S(e,h)})}]},ge=(n,e)=>{e.forEach(r=>{r(a=>{n(a)})})},F={store:null,use:n=>{F.store=n}},R=(n,e)=>{const r=e.trim(),a=r.split(".");if(a.length>1){let o=n;for(let t=0;t<a.length;t++){if(!o)return;o=o[a[t]]}return o}else return n[r]},J=(n,e,r={state:null,ref:null,methods:null},a=!0)=>{var te;const{state:o,ref:t,methods:h}=r,S=new Set,V=new Set,q=[];{const f=new Set;e.replace(/{{(.*?)}}/g,(d,i,s)=>{const l=$(s,e);return f.add(l),d}),f.forEach(d=>{let i="";if(d.indexOf("id=")===-1){i=A();const s=d.replace(">",` id="${i}">`);e=e.replace(d,s)}}),e=e.replace(/id="{{(.*?)}}"/g,(d,i)=>{const s=i.trim();return t&&s in t?(V.add(s),`id="${t[s]}"`):d})}const x=new Map;if(e=e.replace(/@(.*?)}}"/g,(f,d,i)=>{const[s,l]=d.split('="{{'),g=$(i,e),b=W(g);if(h&&l in h&&b)if(!x.has(s))x.set(s,[[b,h[l]]]);else{const c=x.get(s)||[];c.push([b,h[l]]),x.set(s,c)}return""}),o){const f=[];e=e.replace(/:if="{{(.*?)}}"/g,(i,s,l)=>{const g=$(l,e),b=g.replace(i,""),c=R(o,s),m=W(g),p=u=>{if(u){f.push([g,b]);return}f.push([g,`<template id="${m}"></template>`])};if(typeof c=="function"){let u=null,I=null,Y;const y=c(()=>{const v=c();if(v===Y)return;const D=document.getElementById(m);if(!u&&!I&&D&&(u=D.nextElementSibling,I=D.parentElement),v){const B=document.createElement("template"),Q=J(B,b,r).content.cloneNode(!0);u&&I?I.insertBefore(u,Q):!u&&I&&I.appendChild(Q)}else{if(!D)return;u=u||D.nextElementSibling,I=I||D.parentElement,D.remove()}Y=v});return Y=y,p(y),i}return p(c),i}),f.forEach(([i,s])=>{e=e.replace(i,s)});const d=[];e=e.replace(/:for="(.*?)"/g,(i,s,l)=>{const[g,b]=s.trim().split(" in ").map(v=>v.trim()),c=$(l,e),m=c.replace(i,""),p=$(e.indexOf(c)-1,e),[u,I]=ie(p,A()),Y=R(o,b),y=v=>v.map((B,K)=>{const Q=me(String(B.key??K));let[M]=ie(m,Q);return M=M.replace(/id="(.*?)"/g,(T,k)=>k===Q?T:`id="${Q}Y${k}"`),M=M.replace(/{{(.*?)}}/g,(T,k)=>{const L=R(B,k.replace(`${g}.`,""));return typeof L=="function"?L():L}),M});if(typeof Y=="function"){const v=Y((B,K)=>{const Q=document.getElementById(I);if(!Q)return;const M=y(K),T=y(B),k=M.map(E=>W(E)),L=T.map(E=>W(E)),ne=Array.from(Q.children),oe=new Set(L);if(L.length>0){for(let E=0;E<ne.length;E++){const w=ne[E],H=w.id;if(!H)continue;const N=L.indexOf(H),U=k.indexOf(H),O=T[N],re=M[N];if(N===U)O!==re&&O&&(w.outerHTML=O);else{const z=Q.children[N+1];N>U?z?Q.insertBefore(w,z):Q.appendChild(w):Q.insertBefore(w,z),O!==re&&O&&(w.outerHTML=O)}oe.delete(H)}oe.forEach(E=>{const w=L.indexOf(E),H=T[w],N=Q.children[w+1],U=document.createElement("template");U.innerHTML=H;const O=U.content;N?Q.insertBefore(O,N):Q.appendChild(O)})}k.forEach(E=>{if(L.indexOf(E)===-1&&E){const w=document.getElementById(E);w&&w.remove()}})}),D=y(v);d.push([p,u.replace(c,D.join(""))])}return i}),d.forEach(([i,s])=>{e=e.replace(i,s)})}{const f=[];e.replace(/<([A-Z].*?)[\/\>\s]/g,(d,i,s)=>{if(!F.store)return d;const l=i.trim(),g=$(s,e),b=F.store[l],c={};g.replace(/[\s](.*?)="{{(.*?)}}"/g,(u,I,Y)=>{const y=I.trim(),v=Y.trim();return y==="id"&&t&&v in t?(c[y]=t[v],u):y.startsWith(":")?(c[y]=`{{${v}}}`,u):(o&&v in o&&!y.startsWith("@")&&(c[y]=o[v]),u)});const m=c.id||W(g)||A();let p=`<div id="${m}"`;return":if"in c&&(p+=` :if="${c[":if"]}"`,delete c[":if"]),":for"in c&&(p+=` :for="${c[":for"]}"`,delete c[":for"]),Object.keys(c).forEach(u=>{u.startsWith("@")&&(p+=` ${u}="${c[u]}"`,delete c[u])}),p+="></div>",f.push([g,p]),q.push([m,b,c]),d}),f.forEach(([d,i])=>{e=e.replace(d,i)})}let C=e;C=e.replace(/{{(.*?)}}/g,(f,d,i)=>{if(!o)return`[without state "${d}"]`;if(d=d.trim(),t&&d in t)return V.add(d),t[d];const s=R(o,d);if(typeof s=="function"){const l=$(i,e);return S.add(l),f}return s});const _=Array.from(S);if(o)for(let f=0;f<_.length;f++){const i=_[f].replace(/{{(.*?)}}/g,(c,m)=>{if(m=m.trim(),t&&m in t)return V.add(m),t[m];const p=R(o,m);return typeof p=="function"?c:p});let s=i,l="";s.indexOf("id=")===-1?(l=A(),s=s.replace(">",` id="${l}">`)):l=((te=s.match(/id="(.*?)"/))==null?void 0:te[1])||A();const g=()=>s.replace(/{{(.*?)}}/g,(c,m)=>{const p=R(o,m);return typeof p=="function"?p():p}),b=s.replace(/{{(.*?)}}/g,(c,m)=>{const p=R(o,m);return typeof p=="function"?p(()=>{const u=document.getElementById(l);u&&(u.outerHTML=g())}):p});C=C.replace(i,b)}const Z=n.nodeName==="TEMPLATE"?n.content:n.parentElement,ee=Z?Array.prototype.indexOf.call(Z.children,n):-1;n.innerHTML=C,x.forEach((f,d)=>{const i=new Map;f.forEach(([l,g])=>{i.set(l,g)}),(n.nodeName==="TEMPLATE"?n.content:n.firstChild).addEventListener(d,l=>{const g=l.target;if(g.id){const b=i.get(g.id);b&&b(l);return}for(const[b,c]of i){const m=document.getElementById(b);if(m&&m.contains(g)&&c){c(l);return}}})}),a&&n.replaceWith(n.firstChild);const P=ee!==-1&&Z?Z.children[ee]:n;return q.forEach(([f,d,i])=>{const s=P.nodeName==="TEMPLATE"||P.id===f?P:P.querySelector(`#${f}`)||document.getElementById(f);if(s){debugger;const l=d(s,i);l.id=l.id||f}}),P},he=".hello-world{color:red}.github-icon{background-color:#fff;border-radius:100%;overflow:hidden;border:1px solid #ccc}.counter{padding:.6em 1.2em;background-color:#1a1a1a;border-radius:12px;height:fit-content}",be='<div class="counter"><h1>Counter <a href="https://github.com/GrinZero/extreme/tree/main/apps/demo/src/components/counter" target="_blank"><svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" data-view-component="true" class="github-icon"><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path></svg></a></h1><p>{{title}}</p><p>Count: {{ count }}</p><button @click="{{increment}}">Increment</button> <button @click="{{decrement}}">Decrement</button> <button @click="{{handleSubmit}}">Submit</button> <button id="{{resetRef}}">Reset</button></div>',de=n=>{var x;ae(he);const e=X(),[r,a]=G(0),[o,t]=G("the form is not submit"),q=J(n,be,{state:{count:r,title:o},ref:{resetRef:e},methods:{decrement:()=>{a(r()-1)},increment:()=>{a(r()+1)},handleSubmit:()=>{t("submit success")}}});return r(C=>{console.log("newV",C)}),ge(()=>{console.log("count&title",r(),o())},[r,o]),(x=e())==null||x.addEventListener("click",()=>{a(0),t("the form is not submit")}),q},Qe=".list{height:144px;overflow:auto}.list-container{position:relative;padding:.6em 1.2em;background-color:#1a1a1a;border-radius:12px}.reset-icon{position:absolute;right:16px;top:16px;cursor:pointer;width:32px;height:32px;line-height:.2;padding:0;border-color:#f0f8ff}",ve='<div class="list-container"><h1>List <a href="https://github.com/GrinZero/extreme/tree/main/apps/demo/src/components/list" target="_blank"><svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" data-view-component="true" class="github-icon"><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path></svg></a></h1><ul class="list" id="{{listRef}}"><li :for="item in items"><a src="{{item.src}}">{{item.title}}</a><p>{{item.content}}</p></li></ul><button @click="{{handleAdd}}">Add</button> <button @click="{{handleUpdate}}">Update</button> <button @click="{{handleMove}}">Move</button> <button @click="{{handleClear}}">Clear</button> <button @click="{{handleReset}}" class="reset-icon" :if="{{showReset}}" title="Reset">x</button></div>',ce=[{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述1",title:"这是一段标题1",key:1},{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述2",title:"这是一段标题2",key:2}],ye=(n,e={})=>{ae(Qe),console.log("props",e);const[r,a]=G(e.defaultData||ce),o=X();return J(n,ve,{state:{items:r,showReset:C=>r(C).length>0},methods:{handleClear:()=>{a([])},handleReset:()=>{a(ce)},handleAdd:()=>{const C=r(),j=C.length>0?Math.max(...C.map(Z=>Z.key))+1:1;a([...r(),{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述"+j,title:"这是一段标题"+j,key:j}]);const _=o();_&&(_.scrollTop=_.scrollHeight)},handleMove:()=>{a([{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述",title:"这是一段标题",key:2},{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述Move+Update",title:"这是一段标题Move+Update",key:1}])},handleUpdate:()=>{a([{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述[key没有变化]",title:"这是一段标题",key:1},{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述",title:"这是一段标题",key:2}])}},ref:{listRef:o}})},Ee='<List :if="{{open}}" id="{{divRef}}" defaultData="{{defaultData}}"></List>',le=(n,e={})=>{const r=[{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述1，但是我是新的默认数据",title:"这是一段标题1",key:1},{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述2",title:"这是一段标题2",key:2}],a=X();J(n,Ee,{state:{defaultData:r,open:e.open},ref:{divRef:a}}),console.log(a())};F.use({Counter:de,List:ye,CustomComponent:le});document.querySelector("#app").innerHTML=`
  <div>
    <a href="https://vitejs.dev" target="_blank">
      <img src="${pe}" class="logo" alt="Vite logo" />
    </a>
    <a href="https://www.typescriptlang.org/" target="_blank">
      <img src="${fe}" class="logo vanilla" alt="TypeScript logo" />
    </a>
    <h1>Vite + Extreme</h1>
    <div class="card">
      <button id="counter" type="button"></button>
      <button id="list" type="button"></button>
    </div>
    <p class="read-the-docs">
      open list
    </p>
  </div>
`;de(document.querySelector("#counter"));const[ue,Ie]=G(!0);le(document.querySelector("#list"),{open:ue});document.querySelector(".read-the-docs").addEventListener("click",()=>{Ie(!ue())});

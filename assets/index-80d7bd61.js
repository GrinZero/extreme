(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const g of e.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function r(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerPolicy&&(e.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?e.credentials="include":o.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(o){if(o.ep)return;o.ep=!0;const e=r(o);fetch(o.href,e)}})();const mt="/extreme/assets/typescript-f6ead1af.svg",ht="/extreme/vite.svg",ct=new Set,dt=n=>{if(!ct.has(n)){const t=document.createElement("style");t.innerHTML=n,document.head.appendChild(t),ct.add(n)}},_=()=>"W"+Math.random().toString(36).slice(2,10),$=(n,t)=>{let r=n;for(let e=n;e>=0;e--)if(t[e]==="<"){r=e;break}let a="";for(let e=r;e<t.length;e++)if(t[e]===" "||t[e]===">"||t[e]==="/"){a=t.slice(r,e+1),a=a.replace(/(<|>|\/)/g,"").trim();break}let o=n;t:for(let e=n;e<t.length;e++){if(t[e]==="<"&&t[e+1]==="/"){for(let g=e;g<t.length;g++)if(t[g]===">"){if(t.slice(e+2,g)!==a)continue;o=g+1;break t}}if(t[e]==="/"&&t[e+1]===">"){o=e+2;break}}return t.slice(r,o)},U=n=>{var r;return(r=n.match(/id="(.*?)"/))==null?void 0:r[1]},at=(n,t)=>{var e;let r="";const a=n.indexOf(">"),o=n.indexOf("id=");return o===-1||o>a?(r=t,n=n.replace(">",` id="${r}">`)):r=((e=n.match(/id="(.*?)"/))==null?void 0:e[1])||_(),[n,r]},gt=n=>"W"+btoa(n),et=()=>{const n=_(),t=()=>document.getElementById(n);return t.toString=()=>n,t},bt=globalThis.requestIdleCallback||(n=>setTimeout(n,0)),J=n=>{let t=n;const r=new Set;return[e=>(e&&r.add(e),t),e=>{if(t===e)return;const g=t;t=e,r.forEach(O=>{bt(()=>O(t,g))})}]},Qt=(n,t)=>{t.forEach(r=>{r(a=>{n(a)})})},z={store:null,use:n=>{z.store=n}},R=(n,t)=>{const r=t.trim(),a=r.split(".");if(a.length>1){let o=n;for(let e=0;e<a.length;e++){if(!o)return;o=o[a[e]]}return o}else return n[r]},X=(n,t,r={state:null,ref:null,methods:null},a=!0)=>{var ot;const{state:o,ref:e,methods:g}=r,O=n.nodeName==="TEMPLATE",W=new Set,A=new Set,Z=[];{const f=new Set;t.replace(/{{(.*?)}}/g,(l,i,s)=>{const d=$(s,t);return f.add(d),l}),f.forEach(l=>{let i="";if(l.indexOf("id=")===-1){i=_();const s=l.replace(">",` id="${i}">`);t=t.replace(l,s)}}),t=t.replace(/id="{{(.*?)}}"/g,(l,i)=>{const s=i.trim();return e&&s in e?(A.add(s),`id="${e[s]}"`):l})}const I=new Map;if(t=t.replace(/@(.*?)}}"/g,(f,l,i)=>{const[s,d]=l.split('="{{'),m=$(i,t),h=U(m);if(g&&d in g&&h)if(!I.has(s))I.set(s,[[h,g[d]]]);else{const c=I.get(s)||[];c.push([h,g[d]]),I.set(s,c)}return""}),o){const f=[];t=t.replace(/:if="{{(.*?)}}"/g,(i,s,d)=>{const m=$(d,t),h=m.replace(i,""),c=R(o,s),b=U(m),p=u=>{if(u){f.push([m,h]);return}f.push([m,`<template id="${b}"></template>`])};if(typeof c=="function"){let u=null,w=null,Y;const y=c(()=>{const v=c();if(v===Y)return;const D=document.getElementById(b);if(!u&&!w&&D&&(u=D.nextElementSibling,w=D.parentElement),v){const H=document.createElement("template"),Q=X(H,h,r);u&&w?w.insertBefore(u,Q):!u&&w&&w.appendChild(Q)}else{if(!D)return;u=u||D.nextElementSibling,w=w||D.parentElement,D.remove()}Y=v});return Y=y,p(y),i}return p(c),i}),f.forEach(([i,s])=>{t=t.replace(i,s)});const l=[];t=t.replace(/:for="(.*?)"/g,(i,s,d)=>{const[m,h]=s.trim().split(" in ").map(v=>v.trim()),c=$(d,t),b=c.replace(i,""),p=$(t.indexOf(c)-1,t),[u,w]=at(p,_()),Y=R(o,h),y=v=>v.map((H,G)=>{const Q=gt(String(H.key??G));let[M]=at(b,Q);return M=M.replace(/id="(.*?)"/g,(V,N)=>N===Q?V:`id="${Q}Y${N}"`),M=M.replace(/{{(.*?)}}/g,(V,N)=>{const x=R(H,N.replace(`${m}.`,""));return typeof x=="function"?x():x}),M});if(typeof Y=="function"){const v=Y((H,G)=>{const Q=document.getElementById(w);if(!Q)return;const M=y(G),V=y(H),N=M.map(E=>U(E)),x=V.map(E=>U(E)),st=Array.from(Q.children),rt=new Set(x);if(x.length>0){for(let E=0;E<st.length;E++){const C=st[E],q=C.id;if(!q)continue;const k=x.indexOf(q),P=N.indexOf(q),L=V[k],it=M[k];if(k===P)L!==it&&L&&(C.outerHTML=L);else{const tt=Q.children[k+1];k>P?tt?Q.insertBefore(C,tt):Q.appendChild(C):Q.insertBefore(C,tt),L!==it&&L&&(C.outerHTML=L)}rt.delete(q)}rt.forEach(E=>{const C=x.indexOf(E),q=V[C],k=Q.children[C+1],P=document.createElement("template");P.innerHTML=q;const L=P.content;k?Q.insertBefore(L,k):Q.appendChild(L)})}N.forEach(E=>{if(x.indexOf(E)===-1&&E){const C=document.getElementById(E);C&&C.remove()}})}),D=y(v);l.push([p,u.replace(c,D.join(""))])}return i}),l.forEach(([i,s])=>{t=t.replace(i,s)})}{const f=[];t.replace(/<([A-Z].*?)[\/\>\s]/g,(l,i,s)=>{if(!z.store)return l;const d=i.trim(),m=$(s,t),h=z.store[d],c={};m.replace(/(\w+)\s*=\s*["']\{\{([^{}]+)\}\}["']/g,(u,w,Y)=>{const y=w.trim(),v=Y.trim();return y==="id"&&e&&v in e?(c[y]=e[v],u):y.startsWith(":")?(c[y]=`{{${v}}}`,u):(o&&v in o&&!y.startsWith("@")&&(c[y]=o[v]),u)});const b=c.id||U(m)||_();let p=`<div id="${b}"`;return":if"in c&&(p+=` :if="${c[":if"]}"`,delete c[":if"]),":for"in c&&(p+=` :for="${c[":for"]}"`,delete c[":for"]),Object.keys(c).forEach(u=>{u.startsWith("@")&&(p+=` ${u}="${c[u]}"`,delete c[u])}),p+="></div>",f.push([m,p]),Z.push([b,h,c]),l}),f.forEach(([l,i])=>{t=t.replace(l,i)})}let S=t;S=t.replace(/{{(.*?)}}/g,(f,l,i)=>{if(!o)return`[without state "${l}"]`;if(l=l.trim(),e&&l in e)return A.add(l),e[l];const s=R(o,l);if(typeof s=="function"){const d=$(i,t);return W.add(d),f}return s});const K=Array.from(W);if(o)for(let f=0;f<K.length;f++){const i=K[f].replace(/{{(.*?)}}/g,(c,b)=>{if(b=b.trim(),e&&b in e)return A.add(b),e[b];const p=R(o,b);return typeof p=="function"?c:p});let s=i,d="";s.indexOf("id=")===-1?(d=_(),s=s.replace(">",` id="${d}">`)):d=((ot=s.match(/id="(.*?)"/))==null?void 0:ot[1])||_();const m=()=>s.replace(/{{(.*?)}}/g,(c,b)=>{const p=R(o,b);return typeof p=="function"?p():p}),h=s.replace(/{{(.*?)}}/g,(c,b)=>{const p=R(o,b);return typeof p=="function"?p(()=>{const u=document.getElementById(d);u&&(u.outerHTML=m())}):p});S=S.replace(i,h)}const F=O?n.content:n.parentElement,nt=F?Array.prototype.indexOf.call(F.children,n):-1;n.innerHTML=S;let B=O?n.content.firstElementChild:n.firstElementChild;const T=nt!==-1&&F?F.children[nt]:B;return T&&Z.forEach(([f,l,i])=>{const s=T.nodeName==="TEMPLATE"||T.id===f,d=s?T:T.querySelector(`#${f}`)||document.getElementById(f),m=T.firstElementChild===d;if(d){const h=l(d,i);h.id=h.id||f,(s||m)&&(B=h)}}),I.forEach((f,l)=>{const i=new Map;f.forEach(([s,d])=>{i.set(s,d)}),B.addEventListener(l,s=>{const d=s.target;if(d.id){const m=i.get(d.id);m&&m(s);return}for(const[m,h]of i){const c=document.getElementById(m);if(c&&c.contains(d)&&h){h(s);return}}})}),a&&!O&&n.contains(B)&&n.replaceWith(B),B},vt=".hello-world{color:red}.github-icon{background-color:#fff;border-radius:100%;overflow:hidden;border:1px solid #ccc}.counter{padding:.6em 1.2em;background-color:#1a1a1a;border-radius:12px;height:fit-content}",yt='<div class="counter"><h1>Counter <a href="https://github.com/GrinZero/extreme/tree/main/apps/demo/src/components/counter" target="_blank"><svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" data-view-component="true" class="github-icon"><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path></svg></a></h1><p>{{title}}</p><p>Count: {{ count }}</p><button @click="{{increment}}">Increment</button> <button @click="{{decrement}}">Decrement</button> <button @click="{{handleSubmit}}">Submit</button> <button id="{{resetRef}}">Reset</button></div>',ut=n=>{var Z;dt(vt);const t=et(),[r,a]=J(0),[o,e]=J("the form is not submit"),A=X(n,yt,{state:{count:r,title:o},ref:{resetRef:t},methods:{decrement:()=>{a(r()-1)},increment:()=>{a(r()+1)},handleSubmit:()=>{e("submit success")}}});return r(I=>{console.log("newV",I)}),Qt(()=>{console.log("count&title",r(),o())},[r,o]),(Z=t())==null||Z.addEventListener("click",()=>{a(0),e("the form is not submit")}),A},Et=".list{height:144px;overflow:auto}.list-container{position:relative;padding:.6em 1.2em;background-color:#1a1a1a;border-radius:12px}.reset-icon{position:absolute;right:16px;top:16px;cursor:pointer;width:32px;height:32px;line-height:.2;padding:0;border-color:#f0f8ff}",It='<div class="list-container"><h1>List <a href="https://github.com/GrinZero/extreme/tree/main/apps/demo/src/components/list" target="_blank"><svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" data-view-component="true" class="github-icon"><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path></svg></a></h1><ul class="list" id="{{listRef}}"><li :for="item in items"><a src="{{item.src}}">{{item.title}}</a><p>{{item.content}}</p></li></ul><button @click="{{handleAdd}}">Add</button> <button @click="{{handleUpdate}}">Update</button> <button @click="{{handleMove}}">Move</button> <button @click="{{handleClear}}">Clear</button> <button @click="{{handleReset}}" class="reset-icon" :if="{{showReset}}" title="Reset">x</button></div>',lt=[{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述1",title:"这是一段标题1",key:1},{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述2",title:"这是一段标题2",key:2}],wt=(n,t={})=>{dt(Et),console.log("props",t);const[r,a]=J(t.defaultData||lt),o=et();return X(n,It,{state:{items:r,showReset:I=>r(I).length>0},methods:{handleClear:()=>{a([])},handleReset:()=>{a(lt)},handleAdd:()=>{const I=r(),S=I.length>0?Math.max(...I.map(K=>K.key))+1:1;a([...r(),{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述"+S,title:"这是一段标题"+S,key:S}]);const j=o();j&&(j.scrollTop=j.scrollHeight)},handleMove:()=>{a([{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述",title:"这是一段标题",key:2},{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述Move+Update",title:"这是一段标题Move+Update",key:1}])},handleUpdate:()=>{a([{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述[key没有变化]",title:"这是一段标题",key:1},{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述",title:"这是一段标题",key:2}])}},ref:{listRef:o}})},Ct='<List :if="{{open}}" id="{{divRef}}" defaultData="{{defaultData}}"></List>',ft=(n,t={})=>{const r=[{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述1，但是我是新的默认数据",title:"这是一段标题1",key:1},{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述2",title:"这是一段标题2",key:2}],a=et();X(n,Ct,{state:{defaultData:r,open:t.open},ref:{divRef:a}}),console.log(a())};z.use({Counter:ut,List:wt,CustomComponent:ft});document.querySelector("#app").innerHTML=`
  <div>
    <a href="https://vitejs.dev" target="_blank">
      <img src="${ht}" class="logo" alt="Vite logo" />
    </a>
    <a href="https://www.typescriptlang.org/" target="_blank">
      <img src="${mt}" class="logo vanilla" alt="TypeScript logo" />
    </a>
    <h1>Vite + Extreme</h1>
    <div class="card">
      <button id="counter" type="button"></button>
      <button id="list" type="button"></button>
    </div>
    <p class="read-the-docs">
      open list
    </p>
  </div>
`;ut(document.querySelector("#counter"));const[pt,Dt]=J(!0);ft(document.querySelector("#list"),{open:pt});document.querySelector(".read-the-docs").addEventListener("click",()=>{Dt(!pt())});

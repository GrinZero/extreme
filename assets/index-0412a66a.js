(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const h of e.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function s(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerPolicy&&(e.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?e.credentials="include":o.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(o){if(o.ep)return;o.ep=!0;const e=s(o);fetch(o.href,e)}})();const mt="/extreme/assets/typescript-f6ead1af.svg",ht="/extreme/vite.svg",ct=new Set,dt=n=>{if(!ct.has(n)){const t=document.createElement("style");t.innerHTML=n,document.head.appendChild(t),ct.add(n)}},_=()=>"W"+Math.random().toString(36).slice(2,10),$=(n,t)=>{let s=n;for(let e=n;e>=0;e--)if(t[e]==="<"){s=e;break}let a="";for(let e=s;e<t.length;e++)if(t[e]===" "||t[e]===">"||t[e]==="/"){a=t.slice(s,e+1),a=a.replace(/(<|>|\/)/g,"").trim();break}let o=n;t:for(let e=n;e<t.length;e++){if(t[e]==="<"&&t[e+1]==="/"){for(let h=e;h<t.length;h++)if(t[h]===">"){if(t.slice(e+2,h)!==a)continue;o=h+1;break t}}if(t[e]==="/"&&t[e+1]===">"){o=e+2;break}}return t.slice(s,o)},U=n=>{var s;return(s=n.match(/id="(.*?)"/))==null?void 0:s[1]},at=(n,t)=>{var e;let s="";const a=n.indexOf(">"),o=n.indexOf("id=");return o===-1||o>a?(s=t,n=n.replace(">",` id="${s}">`)):s=((e=n.match(/id="(.*?)"/))==null?void 0:e[1])||_(),[n,s]},gt=n=>"W"+btoa(n),et=()=>{const n=_(),t=()=>document.getElementById(n);return t.toString=()=>n,t},J=n=>{let t=n;const s=new Set;return[e=>(e&&s.add(e),t),e=>{if(t===e)return;const h=t;t=e,s.forEach(x=>{requestIdleCallback?requestIdleCallback(()=>x(t,h)):x(t,h)})}]},bt=(n,t)=>{t.forEach(s=>{s(a=>{n(a)})})},z={store:null,use:n=>{z.store=n}},R=(n,t)=>{const s=t.trim(),a=s.split(".");if(a.length>1){let o=n;for(let e=0;e<a.length;e++){if(!o)return;o=o[a[e]]}return o}else return n[s]},X=(n,t,s={state:null,ref:null,methods:null},a=!0)=>{var ot;const{state:o,ref:e,methods:h}=s,x=n.nodeName==="TEMPLATE",W=new Set,A=new Set,Z=[];{const f=new Set;t.replace(/{{(.*?)}}/g,(l,i,r)=>{const d=$(r,t);return f.add(d),l}),f.forEach(l=>{let i="";if(l.indexOf("id=")===-1){i=_();const r=l.replace(">",` id="${i}">`);t=t.replace(l,r)}}),t=t.replace(/id="{{(.*?)}}"/g,(l,i)=>{const r=i.trim();return e&&r in e?(A.add(r),`id="${e[r]}"`):l})}const I=new Map;if(t=t.replace(/@(.*?)}}"/g,(f,l,i)=>{const[r,d]=l.split('="{{'),m=$(i,t),g=U(m);if(h&&d in h&&g)if(!I.has(r))I.set(r,[[g,h[d]]]);else{const c=I.get(r)||[];c.push([g,h[d]]),I.set(r,c)}return""}),o){const f=[];t=t.replace(/:if="{{(.*?)}}"/g,(i,r,d)=>{const m=$(d,t),g=m.replace(i,""),c=R(o,r),b=U(m),p=u=>{if(u){f.push([m,g]);return}f.push([m,`<template id="${b}"></template>`])};if(typeof c=="function"){let u=null,w=null,Y;const y=c(()=>{const v=c();if(v===Y)return;const D=document.getElementById(b);if(!u&&!w&&D&&(u=D.nextElementSibling,w=D.parentElement),v){const T=document.createElement("template"),Q=X(T,g,s);u&&w?w.insertBefore(u,Q):!u&&w&&w.appendChild(Q)}else{if(!D)return;u=u||D.nextElementSibling,w=w||D.parentElement,D.remove()}Y=v});return Y=y,p(y),i}return p(c),i}),f.forEach(([i,r])=>{t=t.replace(i,r)});const l=[];t=t.replace(/:for="(.*?)"/g,(i,r,d)=>{const[m,g]=r.trim().split(" in ").map(v=>v.trim()),c=$(d,t),b=c.replace(i,""),p=$(t.indexOf(c)-1,t),[u,w]=at(p,_()),Y=R(o,g),y=v=>v.map((T,G)=>{const Q=gt(String(T.key??G));let[M]=at(b,Q);return M=M.replace(/id="(.*?)"/g,(V,N)=>N===Q?V:`id="${Q}Y${N}"`),M=M.replace(/{{(.*?)}}/g,(V,N)=>{const L=R(T,N.replace(`${m}.`,""));return typeof L=="function"?L():L}),M});if(typeof Y=="function"){const v=Y((T,G)=>{const Q=document.getElementById(w);if(!Q)return;const M=y(G),V=y(T),N=M.map(E=>U(E)),L=V.map(E=>U(E)),rt=Array.from(Q.children),st=new Set(L);if(L.length>0){for(let E=0;E<rt.length;E++){const C=rt[E],q=C.id;if(!q)continue;const k=L.indexOf(q),P=N.indexOf(q),O=V[k],it=M[k];if(k===P)O!==it&&O&&(C.outerHTML=O);else{const tt=Q.children[k+1];k>P?tt?Q.insertBefore(C,tt):Q.appendChild(C):Q.insertBefore(C,tt),O!==it&&O&&(C.outerHTML=O)}st.delete(q)}st.forEach(E=>{const C=L.indexOf(E),q=V[C],k=Q.children[C+1],P=document.createElement("template");P.innerHTML=q;const O=P.content;k?Q.insertBefore(O,k):Q.appendChild(O)})}N.forEach(E=>{if(L.indexOf(E)===-1&&E){const C=document.getElementById(E);C&&C.remove()}})}),D=y(v);l.push([p,u.replace(c,D.join(""))])}return i}),l.forEach(([i,r])=>{t=t.replace(i,r)})}{const f=[];t.replace(/<([A-Z].*?)[\/\>\s]/g,(l,i,r)=>{if(!z.store)return l;const d=i.trim(),m=$(r,t),g=z.store[d],c={};m.replace(/(\w+)\s*=\s*["']\{\{([^{}]+)\}\}["']/g,(u,w,Y)=>{const y=w.trim(),v=Y.trim();return y==="id"&&e&&v in e?(c[y]=e[v],u):y.startsWith(":")?(c[y]=`{{${v}}}`,u):(o&&v in o&&!y.startsWith("@")&&(c[y]=o[v]),u)});const b=c.id||U(m)||_();let p=`<div id="${b}"`;return":if"in c&&(p+=` :if="${c[":if"]}"`,delete c[":if"]),":for"in c&&(p+=` :for="${c[":for"]}"`,delete c[":for"]),Object.keys(c).forEach(u=>{u.startsWith("@")&&(p+=` ${u}="${c[u]}"`,delete c[u])}),p+="></div>",f.push([m,p]),Z.push([b,g,c]),l}),f.forEach(([l,i])=>{t=t.replace(l,i)})}let S=t;S=t.replace(/{{(.*?)}}/g,(f,l,i)=>{if(!o)return`[without state "${l}"]`;if(l=l.trim(),e&&l in e)return A.add(l),e[l];const r=R(o,l);if(typeof r=="function"){const d=$(i,t);return W.add(d),f}return r});const K=Array.from(W);if(o)for(let f=0;f<K.length;f++){const i=K[f].replace(/{{(.*?)}}/g,(c,b)=>{if(b=b.trim(),e&&b in e)return A.add(b),e[b];const p=R(o,b);return typeof p=="function"?c:p});let r=i,d="";r.indexOf("id=")===-1?(d=_(),r=r.replace(">",` id="${d}">`)):d=((ot=r.match(/id="(.*?)"/))==null?void 0:ot[1])||_();const m=()=>r.replace(/{{(.*?)}}/g,(c,b)=>{const p=R(o,b);return typeof p=="function"?p():p}),g=r.replace(/{{(.*?)}}/g,(c,b)=>{const p=R(o,b);return typeof p=="function"?p(()=>{const u=document.getElementById(d);u&&(u.outerHTML=m())}):p});S=S.replace(i,g)}const F=x?n.content:n.parentElement,nt=F?Array.prototype.indexOf.call(F.children,n):-1;n.innerHTML=S;let B=x?n.content.firstElementChild:n.firstElementChild;const H=nt!==-1&&F?F.children[nt]:B;return H&&Z.forEach(([f,l,i])=>{const r=H.nodeName==="TEMPLATE"||H.id===f,d=r?H:H.querySelector(`#${f}`)||document.getElementById(f),m=H.firstElementChild===d;if(d){const g=l(d,i);g.id=g.id||f,(r||m)&&(B=g)}}),I.forEach((f,l)=>{const i=new Map;f.forEach(([r,d])=>{i.set(r,d)}),B.addEventListener(l,r=>{const d=r.target;if(d.id){const m=i.get(d.id);m&&m(r);return}for(const[m,g]of i){const c=document.getElementById(m);if(c&&c.contains(d)&&g){g(r);return}}})}),a&&!x&&n.contains(B)&&n.replaceWith(B),B},Qt=".hello-world{color:red}.github-icon{background-color:#fff;border-radius:100%;overflow:hidden;border:1px solid #ccc}.counter{padding:.6em 1.2em;background-color:#1a1a1a;border-radius:12px;height:fit-content}",vt='<div class="counter"><h1>Counter <a href="https://github.com/GrinZero/extreme/tree/main/apps/demo/src/components/counter" target="_blank"><svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" data-view-component="true" class="github-icon"><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path></svg></a></h1><p>{{title}}</p><p>Count: {{ count }}</p><button @click="{{increment}}">Increment</button> <button @click="{{decrement}}">Decrement</button> <button @click="{{handleSubmit}}">Submit</button> <button id="{{resetRef}}">Reset</button></div>',ut=n=>{var Z;dt(Qt);const t=et(),[s,a]=J(0),[o,e]=J("the form is not submit"),A=X(n,vt,{state:{count:s,title:o},ref:{resetRef:t},methods:{decrement:()=>{a(s()-1)},increment:()=>{a(s()+1)},handleSubmit:()=>{e("submit success")}}});return s(I=>{console.log("newV",I)}),bt(()=>{console.log("count&title",s(),o())},[s,o]),(Z=t())==null||Z.addEventListener("click",()=>{a(0),e("the form is not submit")}),A},yt=".list{height:144px;overflow:auto}.list-container{position:relative;padding:.6em 1.2em;background-color:#1a1a1a;border-radius:12px}.reset-icon{position:absolute;right:16px;top:16px;cursor:pointer;width:32px;height:32px;line-height:.2;padding:0;border-color:#f0f8ff}",Et='<div class="list-container"><h1>List <a href="https://github.com/GrinZero/extreme/tree/main/apps/demo/src/components/list" target="_blank"><svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" data-view-component="true" class="github-icon"><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path></svg></a></h1><ul class="list" id="{{listRef}}"><li :for="item in items"><a src="{{item.src}}">{{item.title}}</a><p>{{item.content}}</p></li></ul><button @click="{{handleAdd}}">Add</button> <button @click="{{handleUpdate}}">Update</button> <button @click="{{handleMove}}">Move</button> <button @click="{{handleClear}}">Clear</button> <button @click="{{handleReset}}" class="reset-icon" :if="{{showReset}}" title="Reset">x</button></div>',lt=[{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述1",title:"这是一段标题1",key:1},{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述2",title:"这是一段标题2",key:2}],It=(n,t={})=>{dt(yt),console.log("props",t);const[s,a]=J(t.defaultData||lt),o=et();return X(n,Et,{state:{items:s,showReset:I=>s(I).length>0},methods:{handleClear:()=>{a([])},handleReset:()=>{a(lt)},handleAdd:()=>{const I=s(),S=I.length>0?Math.max(...I.map(K=>K.key))+1:1;a([...s(),{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述"+S,title:"这是一段标题"+S,key:S}]);const j=o();j&&(j.scrollTop=j.scrollHeight)},handleMove:()=>{a([{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述",title:"这是一段标题",key:2},{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述Move+Update",title:"这是一段标题Move+Update",key:1}])},handleUpdate:()=>{a([{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述[key没有变化]",title:"这是一段标题",key:1},{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述",title:"这是一段标题",key:2}])}},ref:{listRef:o}})},wt='<List :if="{{open}}" id="{{divRef}}" defaultData="{{defaultData}}"></List>',ft=(n,t={})=>{const s=[{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述1，但是我是新的默认数据",title:"这是一段标题1",key:1},{src:"https://img.alicdn.com/imgextra/i4/O1CN01QYQ1QI1CZQYQ1QYQI_!!6000000001382-2-tps-200-200.png",content:"这是一段描述2",title:"这是一段标题2",key:2}],a=et();X(n,wt,{state:{defaultData:s,open:t.open},ref:{divRef:a}}),console.log(a())};z.use({Counter:ut,List:It,CustomComponent:ft});document.querySelector("#app").innerHTML=`
  <div>
    <a href="https://vitejs.dev" target="_blank">
      <img src="${ht}" class="logo" alt="Vite logo" />
    </a>
    <a href="https://www.typescriptlang.org/" target="_blank">
      <img src="${mt}" class="logo vanilla" alt="TypeScript logo" />
    </a>
    <h1>Vite + Extreme</h1>
    <div class="card">
      <button id="counter" type="button"></button>
      <button id="list" type="button"></button>
    </div>
    <p class="read-the-docs">
      open list
    </p>
  </div>
`;ut(document.querySelector("#counter"));const[pt,Ct]=J(!0);ft(document.querySelector("#list"),{open:pt});document.querySelector(".read-the-docs").addEventListener("click",()=>{Ct(!pt())});
